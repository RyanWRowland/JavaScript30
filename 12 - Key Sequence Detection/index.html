<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>

<body>
  <script>
    // Konami code detection (my solution)
    // -----already baked into cornify.js-----
    // const konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];
    // const end = konami.length;
    // let step = 0;

    // window.addEventListener('keydown', (e) => {
    //   e.keyCode === konami[step] ? step++ : step = 0;
    //   if (step === end) {
    //     alert('Hack success');
    //     step = 0;
    //   }
    // });

    // secret code/string detection a la Wes Bos
    const pressed = [];
    const secretCode = "supersecret";
    const codeLength = secretCode.length;

    window.addEventListener('keyup', (e) => {
      pressed.push(e.key);
      pressed.splice(-codeLength - 1, pressed.length - codeLength);
      // console.log(pressed);

      if (pressed.join('').includes(secretCode)) {
        alert('Super secret is not so super secret');
        cornify_add(); // cornify.js method for fun
      }
    });
  </script>
</body>

</html>